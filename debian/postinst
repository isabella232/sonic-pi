#!/bin/bash

set -e

WORKSPACE_ROOT_DIR=/home/pi/.make-music
WORKSPACE_DIR=$WORKSPACE_ROOT_DIR/workspaces/default
CONTENT_DIR=/home/pi/Music-content

echo "Creating workspace directories"
mkdir -pv $WORKSPACE_DIR/one
mkdir -pv $WORKSPACE_DIR/two
mkdir -pv $WORKSPACE_DIR/three
mkdir -pv $WORKSPACE_DIR/four
mkdir -pv $WORKSPACE_DIR/five
mkdir -pv $WORKSPACE_DIR/six
mkdir -pv $WORKSPACE_DIR/seven
mkdir -pv $WORKSPACE_DIR/eight

echo "Creating workspaces"
touch $WORKSPACE_DIR/one/1.spi
touch $WORKSPACE_DIR/two/1.spi
touch $WORKSPACE_DIR/three/1.spi
touch $WORKSPACE_DIR/four/1.spi
touch $WORKSPACE_DIR/five/1.spi
touch $WORKSPACE_DIR/six/1.spi
touch $WORKSPACE_DIR/seven/1.spi
touch $WORKSPACE_DIR/eight/1.spi

echo "Creating content directory"
mkdir -pv $CONTENT_DIR

echo "Setting permissions"
chown -R 1000:1000 $WORKSPACE_ROOT_DIR
chown -R 1000:1000 $CONTENT_DIR

echo "Creating shortcuts"
ln -sv /opt/make-music/app/gui/application /usr/bin/make-music
